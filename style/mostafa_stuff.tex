\input{data/data.tex}
\usepackage[palatino]{quotchap}
\usepackage{array}
\usepackage{todonotes}
\usetikzlibrary{decorations.text}
\usepackage{multirow}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{booktabs}
\usepackage{pgfplots}
\usepackage{graphics}
\usepackage{adjustbox}
\usepackage{csquotes}
\usetikzlibrary{pgfplots.groupplots}
\usepackage{mathrsfs} 
\usepackage{nicefrac}
\pgfplotsset{compat=1.11}
\usepgfplotslibrary{ternary}
\usepackage{tikz}
\usetikzlibrary{calc,spy,shapes}
\usepackage{soul}
\usepackage{afterpage}
\usepackage{bibentry}
\usepackage{dirtytalk}
\usepackage{wrapfig}
\usepackage{enumitem}
\usepackage{colortbl}
\usepackage{listings}
\usepackage{color}
\usepackage{graphicx}
\usepackage{microtype}
\usepackage{multicol}
\usepackage{courier}
\usepackage{xstring} %switch-case
\usetikzlibrary{arrows,decorations.pathmorphing,fit,positioning,patterns}
\usepackage{xspace} % insert space when needed.
\usepackage[square,comma,numbers,sort&compress,sectionbib]{natbib}
\usepackage[chapter]{algorithm}
\usepackage{algpseudocode}
\usepackage{tkz-graph}
\usepackage{tabularx} % Tables spanning the \linewidth or \textwidth
\usepackage{tikz-qtree}
\usepackage{xargs} 
\usepackage{caption}
\usepackage{subcaption}
\usepackage{microtype} % fixes the line braking to not exceed the line width
% \usepackage{siunitx}

\usepackage{footnote}
\makesavenoteenv{tabular}
\makesavenoteenv{table}
\usepackage[bottom]{footmisc}

% \captionsetup{font=footnotesize}
% \newcommand{\floatfontsize}{\fontsize{10}{8}\selectfovnt}
% \newcommand{\subfloatfontsize}{\fontsize{7}{5}\selectfovnt}
\newcommand{\floatfontsize}{footnotesize}
\newcommand{\subfloatfontsize}{scriptsize}

\captionsetup[figure]{font=\floatfontsize, labelfont=\floatfontsize,textfont=\floatfontsize}

\captionsetup[subfigure]{font=\subfloatfontsize, labelfont=\subfloatfontsize,textfont=\subfloatfontsize}

\captionsetup[table]{font=\floatfontsize, labelfont=\floatfontsize,textfont=\floatfontsize}

\captionsetup[subtable]{font=\subfloatfontsize, labelfont=\subfloatfontsize,textfont=\subfloatfontsize}
 
% \makeatletter
% \DeclareCaptionLabelFormat{numberless}{\ALG@name#1}
% \captionsetup[algorithm]{labelformat=numberless} 
% \makeatother


% \usepackage[subtle]{savetrees}
%saves some space (stealing space very smoothly!):
% \usepackage{setspace}
% \setstretch{0.98}

\newcommand{\algrule}[1][.2pt]{\par\vskip.5\baselineskip\hrule height #1\par\vskip.5\baselineskip}
\makeatother

\makeatletter
\algnewcommand{\LineComment}[1]{\Statex \hskip\ALG@thistlm $\blacktriangleright$ #1}
\makeatother

\usetikzlibrary{arrows.meta}
\usetikzlibrary{positioning,automata}
\usetikzlibrary{calc,spy,shapes}
\usetikzlibrary{arrows,decorations.pathmorphing,fit,positioning,patterns}
\pgfplotsset{compat=newest}
\usepackage{bm}
\DeclareMathOperator*{\expectation}{\mathbb{E}}
\newcommand{\subsup}[3]{{#1}_{\mkern-4mu #2}^{\mkern-4mu #3}}


\renewcommand*\Call[2]{\textproc{#1}(#2)}
\newcommand{\tc}{\cellcolor{lightgray}}
\newcommand{\shrink}{\vspace{-1.5ex}}
\newcommand{\sshrink}{\vspace{-.75ex}}
\renewcommand{\shrink}{}
\renewcommand{\sshrink}{}





\usepackage{framed} 
\usepackage[T1]{fontenc}
\usepackage{libertine}


\renewenvironment{leftbar}[2][\hsize]
{
    \def\FrameCommand
    {
        {\color{#2}\vrule width 3pt}
        \hspace{0pt}
    }
    \MakeFramed{\hsize#1\advance\hsize-\width\FrameRestore}
}
{\endMakeFramed}

% TeX Gyre Pagella Math
\usepackage{mathpazo}

\setlength{\parskip}{5pt}%
\setlength{\parindent}{0pt}%

% \usepackage{setspace}
% \setstretch{1.1}

\newtheorem{mydef}{\textbf{Definition}}%[chapter]

\newcommand{\tracrnet}{TraCRNet\xspace} 

%\usepackage{mathabx}
% instead of \usepackage{mathabx}
% Setup the mathb font (from mathabx.sty)
\DeclareFontFamily{U}{mathb}{\hyphenchar\font45}
\DeclareFontShape{U}{mathb}{m}{n}{
<-6> mathb5 <6-7> mathb6 <7-8> mathb7
<8-9> mathb8 <9-10> mathb9
<10-12> mathb10 <12-> mathb12
}{}
\DeclareSymbolFont{mathb}{U}{mathb}{m}{n}

\DeclareMathSymbol{\smalltriangleup} {2}{mathb}{"98}% name to be checked
\DeclareMathSymbol{\smalltriangledown} {2}{mathb}{"99}% name to be checked
\DeclareMathSymbol{\smalltriangleleft} {2}{mathb}{"9A}% name to be checked
\DeclareMathSymbol{\smalltriangleright}{2}{mathb}{"9B}% name to be checked
\DeclareMathSymbol{\blacktriangleup} {2}{mathb}{"9C}% name to be checked
\DeclareMathSymbol{\blacktriangledown} {2}{mathb}{"9D}% name to be checked
\DeclareMathSymbol{\blacktriangleleft} {2}{mathb}{"9E}% name to be checked
\DeclareMathSymbol{\blacktriangleright}{2}{mathb}{"9F}% name to be checked


\makeatletter
\def\@part[#1]#2{%
    \ifnum \c@secnumdepth >-2\relax
      \refstepcounter{part}%
      \addcontentsline{toc}{part}{\thepart\hspace{1em}#1}%
    \else
      \addcontentsline{toc}{part}{#1}%
    \fi
    \markboth{}{}%
  \reset@font
  \parindent \z@ 
  \vspace*{10\p@}%
  \hbox{%
    \vbox{%
      \hsize=7mm%
      \begin{tabular}{@{}p{7mm}@{}}
        \makebox[7mm]{\scshape\strut\small\partname}\\
        \makebox[7mm]{\cellcolor{gray}\Huge\color{white}\bfseries\strut\thepart\rule[-4cm]{0pt}{4cm}}%
      \end{tabular}%
      \makebox(0,0){\put(-10,-100){\fbox{\phantom{\rule[-4cm]{7mm}{4cm}}}}}
      }%
    \kern-2pt
    \vbox to 0pt{%
       \tabular[t]{@{}p{1cm}p{\dimexpr\hsize-2.1cm}@{}}\hline
        %   & \fontsize{25}{25}\selectfovnt\itshape\bfseries\rule{0pt}{1.5\ht\strutbox}#1\endtabular}%
        %   & \Huge\itshape\rule{0pt}{1.5\ht\strutbox}#1\endtabular}%
         & \Huge\rule{0pt}{1.5\ht\strutbox}#1\endtabular}%
    }%
  \cleardoublepage
%  \vskip 100\p@
}
% \renewcommand*\thepart{\arabic{part}}
\renewcommand\thepart{\Roman{part}}
\makeatother

\makeatletter
\let\size@chapter\LARGE
\makeatother

\newcommand{\mypar}[1]{\medskip\noindent\textit{#1}~}
\newcommand{\fix}{\marginpar{FIX}}
\newcommand{\new}{\marginpar{NEW}}
\newcommand{\rpm}{\raisebox{.2ex}{$\scriptstyle\pm$}}
 
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
 
\lstset{style=mystyle}

\renewcommand{\texttt}[1]{{\fontsize{10}{11}\fontfamily{pcr}\selectfont{#1}}}
% \renewcommand{\url}[1]{{\fontfamily{pcr}\selectfont{\url{#1}}}}
\renewcommand{\todo}[1]{\textcolor{red}{{\bf [TODO: }{\em #1}{\bf ]}}}


% Part one's stuff
\newcommand{\swlm}{significant words language model\xspace}
\newcommand{\Swlm}{Significant words language model\xspace}
\newcommand{\SWLM}{Significant Words Language Model\xspace}
\newcommand{\swlms}{{\swlm}s\xspace}
\newcommand{\Swlms}{{\Swlm}s\xspace}
\newcommand{\SWLMs}{{\SWLM}s\xspace}
\newcommand{\acswlm}{SWLM\xspace}
\newcommand{\acswlms}{SWLMs\xspace}

\newcommand{\rswlm}{regularized significant words language model\xspace}
\newcommand{\Rswlm}{Regularized significant words language model\xspace}
\newcommand{\RSWLM}{Regularized Significant Words Language Model\xspace}
\newcommand{\rswlms}{{\rswlm}s\xspace}
\newcommand{\Rswlms}{{\Rswlm}s\xspace}
\newcommand{\RSWLMs}{{\RSWLM}s\xspace}
\newcommand{\acrswlm}{RSWLM\xspace}

\newcommand{\hswlm}{hierarchical significant words language model\xspace}
\newcommand{\Hswlm}{Hierarchical significant words language model\xspace}
\newcommand{\HSWLM}{Hierarchical Significant Words Language Model\xspace}

\newcommand{\hswlms}{{\hswlm}s\xspace}
\newcommand{\Hswlms}{{\Hswlm}s\xspace}
\newcommand{\HSWLMs}{{\HSWLM}s\xspace}
\newcommand{\achswlm}{HSWLM\xspace}
\newcommand{\achswlms}{HSWLMs\xspace}
\newcommand{\ssp}{Strong Separation Principle\xspace}
\newcommand{\acssp}{SSP\xspace}


% Part two's stuff
\newcommand{\Modelone}{Score model\xspace}
\newcommand{\Modeltwo}{Rank model\xspace}
\newcommand{\Modelthree}{Rank\-Prob model\xspace}

\newcommand{\ModelOne}{Score Model\xspace}
\newcommand{\ModelTwo}{Rank Model\xspace}
\newcommand{\ModelThree}{Rank\-Prob Model\xspace}

\newcommand{\modelone}{\textit{score} model\xspace}
\newcommand{\modeltwo}{\textit{rank} model\xspace}
\newcommand{\modelthree}{\textit{rank\-prob} model\xspace}

\newcommand{\mone}{Score\xspace}
\newcommand{\mtwo}{Rank\xspace}
\newcommand{\mthree}{RankProb\xspace}


\newcommand{\Feedone}{Dense vector representation\xspace}
\newcommand{\Feedtwo}{Sparse vector representation\xspace}
\newcommand{\Feedthree}{Embedding vector representation\xspace}

\newcommand{\feedone}{dense vector representation\xspace}
\newcommand{\feedtwo}{sparse vector representation\xspace}
\newcommand{\feedthree}{embedding vector representation\xspace}

\newcommand{\fone}{Dense\xspace}
\newcommand{\ftwo}{Sparse\xspace}
\newcommand{\fthree}{Embed\xspace}


\newcommand{\pssmall}[1]{\ensuremath{\operatorname{^{\blacktriangleup {#1}}}}}

\newcommand{\tnet}{target network\xspace}
\newcommand{\tnets}{target networks\xspace}
\newcommand{\cnet}{confidence network\xspace}

\newcommand{\cws}{CWS\xspace}

\newcommand{\fwl}{FWL\xspace}
\newcommand{\fwlnospace}{FWL}
\newcommand{\fwlfull}{Fidelity-Weighted Learning\xspace}
\newcommand{\fwlfulllc}{fidelity-weighted learning\xspace}

\newcommand{\std}{student\xspace}
\newcommand{\tch}{teacher\xspace}
\newcommand{\repnet}{representation learner\xspace}
\newcommand{\wa}{weak annotator\xspace}
\newcommand{\was}{weak annotators\xspace}


\newcommand{\ps}{$^\blacktriangleup$}
\newcommand{\ns}{$^\smalltriangledown$}
\newcommand{\fs}{\phantom{$^\blacktriangleup$}}


\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

%% this next section (till \makeatother) makes sure that blank pages	
%% are actually completely blank, cause they're not usually	
\makeatletter	
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else	
	\hbox{}	
	\vspace*{\fill}	
	\thispagestyle{empty}	
	\newpage	
	\if@twocolumn\hbox{}\newpage\fi\fi\fi}	
\makeatother	


%% make the quotation appear next to the chapter number	
% \renewcommand\chapterheadstartvskip{\vspace*{-5\baselineskip}}	

% %% now change the section heading to have a line beneath it	
% %% load up the fancy title-style package	
% \usepackage[calcwidth]{titlesec}	
% \titleformat{\section}[hang]{}	
% {\bf\fontsize{18}{16}\selectfont\thesection}{12pt}{\bf\fontsize{18}{16}\selectfont}	

% \titleformat{\subsection}[hang]{}	
% {\bf\no\thesubsection}{12pt}{\bf\fontsize{12}{10}\selectfont }	

% \titleformat{\subsubsection}[hang]{}	
% {}{12pt}{\bfseries}

% smaller font size for citation marks
\let\realcitep\citep
\renewcommand*{\citep}[1]{{\small\realcitep{#1}}}

\input{insbox}
\usepackage{mdframed}

\newcommand\blankfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}